var j=Object.defineProperty;var l=(e,n)=>j(e,"name",{value:n,configurable:!0});import{t as r}from"./ts-morph-1b8b8780.js";import"./_commonjsHelpers-0119a68f.js";function w(e,n){const t=e.getDescendantsOfKind(r.ts.SyntaxKind.JsxAttribute);return n?t.filter(i=>n.includes(i.getName())):t}l(w,"findJSXAttrs");function W(e){return e.getDescendantsOfKind(r.ts.SyntaxKind.ObjectBindingPattern)}l(W,"findObjectBindingPatterns");function k(e){return e.getDescendantsOfKind(r.ts.SyntaxKind.ObjectLiteralExpression)}l(k,"findObjectLiteralExpressions");function u(e){const n=e.getParentWhileKind(r.ts.SyntaxKind.QualifiedName);if(n)return n;const t=e.getParentWhileKind(r.ts.SyntaxKind.TypeReference);if(t)return t;const i=e.getParentWhileKind(r.ts.SyntaxKind.PropertyAccessExpression);return i||e}l(u,"getParentExpr");function _(e,n){const t=e.getImportDeclaration("react"),i=[],s=l(o=>{const a=o.getText();(!n||n.includes(a))&&i.push({name:a,node:o})},"push");if(t){const o=t.getNamespaceImport(),a=t.getNamedImports();for(const m of a){const c=m.getFirstChildByKind(r.ts.SyntaxKind.Identifier);if(c)for(const d of c.findReferencesAsNodes())d!==c&&r.Node.isIdentifier(d)&&s(d)}if(o)for(const m of o.findReferencesAsNodes()){if(m.getFirstAncestorByKind(r.ts.SyntaxKind.NamespaceImport))continue;const d=u(m)?.getLastChildByKind(r.ts.SyntaxKind.Identifier);d&&s(d)}}return i}l(_,"findReactObjects");function L(e,n){e.includes(n)||e.push(n)}l(L,"add");function J(e){const n=e.getImportDeclarations(),t={};for(const i of n){const s=i.getModuleSpecifier().getLiteralText();t[s]||(t[s]={nodes:[],withoutFrom:!0,named:[],defaults:[],namespaces:[]}),t[s].nodes.push(i);for(const m of i.getNamedImports())t[s].withoutFrom=!1,L(t[s].named,m.getText());const o=i.getDefaultImport();o&&(t[s].withoutFrom=!1,L(t[s].defaults,o.getText()));const a=i.getNamespaceImport();a&&(t[s].withoutFrom=!1,L(t[s].namespaces,a.getText()))}for(const i in t){const s=t[i];s.withoutFrom&&e.addImportDeclaration({moduleSpecifier:i}),s.named.length&&e.addImportDeclaration({moduleSpecifier:i,namedImports:s.named});for(const o of s.defaults)e.addImportDeclaration({moduleSpecifier:i,defaultImport:o});for(const o of s.namespaces)e.addImportDeclaration({moduleSpecifier:i,namespaceImport:o});for(const o of s.nodes)o.remove()}}l(J,"groupImports");function U(e){const n=e.getImportDeclarations();for(const i of n)i.getModuleSpecifier().getLiteralText()==="prop-types"&&i.remove();const t=e.getChildrenOfKind(r.ts.SyntaxKind.ExpressionStatement);for(const i of t)i.getFirstChildByKind(r.ts.SyntaxKind.BinaryExpression)?.getFirstChildByKind(r.ts.SyntaxKind.PropertyAccessExpression)?.getLastChildByKind(r.ts.SyntaxKind.Identifier)?.getText()==="propTypes"&&i.remove()}l(U,"removePropTypes");function z(e){const n=e.getImportDeclarations();for(const t of n)t.getModuleSpecifier().getLiteralText()==="react"&&t.remove()}l(z,"removeReactImports");function X(e){e.remove()}l(X,"removeReactKeyAttr");function q(e){const n=e.getImportDeclarations();for(const t of n){const i=t.getDefaultImport(),s=t.getNamedImports(),o=t.getNamespaceImport();let a=0;i?.findReferencesAsNodes().length===1&&(t.removeDefaultImport(),a++);for(const m of s)(m.getAliasNode()||m.getNameNode()).findReferencesAsNodes().length===1&&(m.remove(),a++);o?.findReferencesAsNodes().length===1&&(t.removeNamespaceImport(),a++),a&&!t.getDefaultImport()&&!t.getNamedImports().length&&!t.getNamespaceImport()&&t.remove()}}l(q,"removeUnusedImports");const Q={"@mui/base":[/.+/]},Y={"@mui/base/isHostComponent":"@suid/base/utils/isHostComponent"};function K(e){return e.replace(/^@mui/,"@suid")}l(K,"replace");function Z(e){for(const n of e.getImportDeclarations()){const t=n.getModuleSpecifier(),i=t.getLiteralText(),s=Q[i];if(s){const o=n.getNamedImports(),a=[];for(const m of o){const c=m.getName();if(s.some(f=>f.exec(c))){const f=`${i}/${c}`;e.addImportDeclaration({moduleSpecifier:K(Y[f]||f),defaultImport:m.getAliasNode()?.getText()||m.getName()}),a.push(m)}}if(a.length&&a.length===o.length&&!n.getDefaultImport()&&!n.getNamespaceImport()){n.remove();continue}else a.forEach(m=>m.remove())}i.startsWith("@mui/")&&t.setLiteralValue(K(i))}}l(Z,"renameMuiImports");function ee(e){return e.charAt(0).toUpperCase()+e.slice(1)}l(ee,"capitalize");function te(e){if(r.Node.isCallExpression(e)){const n=e.getFirstDescendantByKind(r.ts.SyntaxKind.PropertyAccessExpression)?.getText();return n==="React.cloneElement"||n==="React.createElement"}else return!1}l(te,"isReactComponentNode");function ne(e){let n;return e.getParentWhile(t=>{if(r.Node.isFunctionDeclaration(t)||r.Node.isFunctionExpression(t)){const i=t.getBody()?.getChildrenOfKind(r.ts.SyntaxKind.ReturnStatement);for(const s of i||[]){const a=(s.getChildAtIndexIfKind(1,r.ts.SyntaxKind.ParenthesizedExpression)||s).getChildAtIndex(1);if(r.Node.isJsxFragment(a)||r.Node.isJsxElement(a)||r.Node.isJsxSelfClosingElement(a)||te(a))return n=t,!1}}return!0}),n}l(ne,"getAncestorComponent");function ie(e){return!!e.getFirstAncestorByKind(r.ts.SyntaxKind.JsxElement)}l(ie,"hasAncestorJSX");function P(e,n){if(!n||n.includes("jsx")&&ie(e))return!0;if(n.includes("component")||n.includes("component-top-level")){const t=ne(e);return t?n.includes("component-top-level")?e.getFirstAncestor(s=>r.Node.isFunctionDeclaration(s)||r.Node.isFunctionExpression(s)||r.Node.isArrowFunction(s))===t:!0:!1}return!1}l(P,"checkNodeScope");function T(e){if(r.Node.isObjectLiteralExpression(e)||r.Node.isArrayLiteralExpression(e)){for(const n of e.forEachChildAsArray())if(r.Node.isPropertyAssignment(n)){const t=n.getInitializer();if(t&&!T(t))return!1}else if(!T(n))return!1;return!0}return r.Node.isTrueLiteral(e)||r.Node.isFalseLiteral(e)||r.Node.isUndefinedKeyword(e)||r.Node.isNullLiteral(e)||r.Node.isNumericLiteral(e)||r.Node.isStringLiteral(e)||r.Node.isIdentifier(e)}l(T,"isStaticValue");function re(e){let n=!1;return e.getParentWhile(t=>r.Node.isTypeAliasDeclaration(t)||r.Node.isInterfaceDeclaration(t)||r.Node.isTypeLiteral(t)?(n=!0,!1):!0),n}l(re,"hasAncestorType");function I(e,n,t=!0){for(const i of e.findReferencesAsNodes()){if(t&&e===i||re(i))continue;const s=i.getParent();r.Node.isShorthandPropertyAssignment(s)?s.replaceWithText(`${e.getText()}: ${n}`):r.Node.isIdentifier(i)&&i.replaceWithText(n)}}l(I,"renameIdentifiers");function M(e,n){const t=e.rename||e.nameNode;r.Node.isIdentifier(t)&&I(t,r.Node.isStringLiteral(e.nameNode)?`${n}[${e.nameNode.getText()}]`:`${n}.${e.nameNode.getText()}`)}l(M,"renameObjectBinding");function D(e){const n=[];for(const t of e.getChildrenOfKind(r.ts.SyntaxKind.BindingElement)){const i=!!t.getChildAtIndexIfKind(0,r.ts.SyntaxKind.DotDotDotToken),s=t.getChildAtIndex(i?1:0);if(!r.Node.isIdentifier(s)&&!r.Node.isStringLiteral(s))throw new Error("Invalid name node");const o={name:s.getText(),nameNode:s,rest:i};n.push(o);const a=t.getFirstChildByKind(r.ts.SyntaxKind.EqualsToken);a&&(o.defaults=t.getChildAtIndex(a.getChildIndex()+1));const m=t.getFirstChildByKind(r.ts.SyntaxKind.ColonToken);if(m){const c=t.getChildAtIndex(m.getChildIndex()+1);r.Node.isObjectBindingPattern(c)?o.destruct=D(c):r.Node.isIdentifier(c)&&(o.rename=c)}}return n}l(D,"toJson");function C(e,n=!0){return e.endsWith("?")&&(e=e.slice(0,-1)+" || {}"),n&&e.includes(".")&&(n&&(e=`() => ${e}`),n==="withMergeProps"&&(e=`mergeProps(${e})`)),e}l(C,"safePropName");function $(e,n){const t=[],i=[],s=n.find(c=>c.rest);if(s){const c=s.name,d=JSON.stringify(n.filter(f=>!f.rest).map(f=>f.name));i.push("splitProps"),t.push(`const [, ${c}] = splitProps(${C(e,"withMergeProps")}, ${d});`),r.Node.isIdentifier(s.nameNode)&&I(s.nameNode,c)}const o=n.filter(c=>c.defaults&&!c.destruct);if(o.length){const c=`base${ee(e)}`.replaceAll(".","_").replaceAll("?",""),f=`{
${o.reduce((g,E)=>(E.defaults&&T(E.defaults)?g+=`${E.name}: ${E.defaults?.getText()},
`:g+=`get ${E.name}() { return ${E.defaults?.getText()}; }
`,g),"")}}`;i.push("mergeProps"),t.push(`const ${c} = mergeProps(${f}, ${C(e)});
`);for(const g of o)M(g,c)}const a=n.filter(c=>c.destruct);if(a.length)for(const c of a){const d=c.defaults?.getText().trim().startsWith("{"),f=$(`${e}.${c.name}${d?"?":""}`,c.destruct);i.push(...f.solidNamedImports.filter(g=>!i.includes(g))),t.push(...f.sentences)}const m=n.filter(c=>!c.rest&&!c.destruct&&!c.defaults);for(const c of m)M(c,e);return{sentences:t,solidNamedImports:i}}l($,"generateSentences");function se(e,n={scopes:["component-top-level","jsx"]}){if(e.wasForgotten()||!P(e,n.scopes))return;const t=e.getParent();let i;const s=D(e);if(r.Node.isParameterDeclaration(t)){const a=(t.getParentIfKind(r.ts.SyntaxKind.FunctionExpression)||t.getParentIfKind(r.ts.SyntaxKind.FunctionDeclaration)||t.getParentIfKind(r.ts.SyntaxKind.ArrowFunction))?.getParameters(),m=a?.indexOf(t);i=a?.length===1?"params":`params_${m}`}else if(t.getKind()===r.ts.SyntaxKind.VariableDeclaration){const o=t.getChildAtIndex(2);if(o.getKind()===r.ts.SyntaxKind.Identifier)i=o.getText();else return}else return;if(t.getKind()===r.ts.SyntaxKind.Parameter){for(const o of s)M(o,i);t.replaceWithText(i)}else if(t.getKind()===r.ts.SyntaxKind.VariableDeclaration){const{sentences:o,solidNamedImports:a}=$(i,s);a.length&&t.getSourceFile().addImportDeclaration({moduleSpecifier:"solid-js",namedImports:a}),t.getFirstAncestorByKind(r.ts.SyntaxKind.VariableStatement)?.replaceWithText(o.join(`

`))}}l(se,"replaceObjectBinding");function oe(e){e.rename("class")}l(oe,"replaceReactClassNameAttr");function p(e,n,t){const i=u(e);t?("namespaceImport"in t?i.replaceWithText(`${t.namespaceImport}.${n}`):"namespaceNamedImport"in t?i.replaceWithText(`${t.namespaceNamedImport}.${n}`):"namedImport"in t&&i.replaceWithText(`${n}`),e.getSourceFile().addImportDeclaration({moduleSpecifier:t.moduleSpecifier,..."namespaceImport"in t&&{namespaceImport:t.namespaceImport},..."namespaceNamedImport"in t&&{namespaceImport:t.namespaceNamedImport},..."namedImport"in t&&{namedImports:[t.namedImport]}})):i.replaceWithText(n)}l(p,"renameExpr");function ae(e){p(e,"Context",{moduleSpecifier:"solid-js",namedImport:"Context"})}l(ae,"replaceReactContext");function le(e){p(e,"createContext",{moduleSpecifier:"solid-js",namedImport:"createContext"})}l(le,"replaceReactCreateContext");function ce(e){const n=u(e).getParentIfKind(r.ts.SyntaxKind.TypeReference);n&&n.getChildren().length>1?p(e,"Component",{moduleSpecifier:"solid-js",namedImport:"Component"}):p(e,"ElementType",{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}l(ce,"replaceReactElementType");function me(e){const n=e.getText();p(e,n,{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}l(me,"replaceReactEventHandlers");function de(e){const n=e.getText();n==="ChangeEvent"?p(e,n,{moduleSpecifier:"@suid/types",namespaceImport:"ST"}):p(e,n)}l(de,"replaceReactEvents");function x(e,n,t){const i=e;i.__replacePatterns||(i.__replacePatterns={}),i.__replacePatterns[n]=t}l(x,"addReplacePattern");const A=`__EMPTY__${Date.now()}`;function fe(e){const n=u(e),t=n.getParentIfKind(r.ts.SyntaxKind.CallExpression);if(t){const[i]=t.getArguments();if(r.Node.isFunctionExpression(i)||r.Node.isArrowFunction(i)){const s=i.getParameters();let o,a,m=0;for(const c of s)m?m===1&&(a=c.getText()):o=c.getText(),m>0&&c.remove(),m++;a&&(i.insertStatements(0,`const ${a} = createRef(${o});`),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/system/createRef",defaultImport:"createRef"}))}x(e.getSourceFile(),A,""),n.replaceWithText(A)}}l(fe,"replaceReactForwardRef");const b=`__EMPTY__${Date.now()}`;function pe(e){const n=e.getFirstAncestorByKind(r.ts.SyntaxKind.JsxElement);x(e.getSourceFile(),b,""),n?.set({name:b})}l(pe,"replaceReactFragment");function ue(e){return e.charAt(0).toLowerCase()+e.slice(1)}l(ue,"uncapitalize");const{factory:S}=r.ts,R={a:"HTMLAnchorElement",abbr:"HTMLElement",address:"HTMLElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",embed:"HTMLEmbedElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",footer:"HTMLElement",form:"HTMLFormElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",kbd:"HTMLElement",keygen:"HTMLElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",main:"HTMLElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLElement",menuitem:"HTMLElement",meta:"HTMLMetaElement",meter:"HTMLElement",nav:"HTMLElement",noindex:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLElement",p:"HTMLParagraphElement",param:"HTMLParamElement",picture:"HTMLElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",rp:"HTMLElement",rt:"HTMLElement",ruby:"HTMLElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",u:"HTMLElement",ul:"HTMLUListElement",var:"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement",svg:"SVGSVGElement",animate:"SVGAnimateElement",animateMotion:"SVGAnimateMotionElement",animateTransform:"SVGAnimateTransformElement",circle:"SVGCircleElement",clipPath:"SVGClipPathElement",defs:"SVGDefsElement",desc:"SVGDescElement",ellipse:"SVGEllipseElement",feBlend:"SVGFEBlendElement",feColorMatrix:"SVGFEColorMatrixElement",feComponentTransfer:"SVGFEComponentTransferElement",feComposite:"SVGFECompositeElement",feConvolveMatrix:"SVGFEConvolveMatrixElement",feDiffuseLighting:"SVGFEDiffuseLightingElement",feDisplacementMap:"SVGFEDisplacementMapElement",feDistantLight:"SVGFEDistantLightElement",feFlood:"SVGFEFloodElement",feFuncA:"SVGFEFuncAElement",feFuncB:"SVGFEFuncBElement",feFuncG:"SVGFEFuncGElement",feFuncR:"SVGFEFuncRElement",feGaussianBlur:"SVGFEGaussianBlurElement",feImage:"SVGFEImageElement",feMerge:"SVGFEMergeElement",feMergeNode:"SVGFEMergeNodeElement",feMorphology:"SVGFEMorphologyElement",feOffset:"SVGFEOffsetElement",fePointLight:"SVGFEPointLightElement",feSpecularLighting:"SVGFESpecularLightingElement",feSpotLight:"SVGFESpotLightElement",feTile:"SVGFETileElement",feTurbulence:"SVGFETurbulenceElement",filter:"SVGFilterElement",foreignObject:"SVGForeignObjectElement",g:"SVGGElement",image:"SVGImageElement",line:"SVGLineElement",linearGradient:"SVGLinearGradientElement",marker:"SVGMarkerElement",mask:"SVGMaskElement",metadata:"SVGMetadataElement",path:"SVGPathElement",pattern:"SVGPatternElement",polygon:"SVGPolygonElement",polyline:"SVGPolylineElement",radialGradient:"SVGRadialGradientElement",rect:"SVGRectElement",stop:"SVGStopElement",switch:"SVGSwitchElement",symbol:"SVGSymbolElement",text:"SVGTextElement",textPath:"SVGTextPathElement",tspan:"SVGTSpanElement",use:"SVGUseElement",view:"SVGViewElement"};function ge(e){for(const n in R)if(R[n]===e)return n}l(ge,"findTag");function Ee(e){const n=u(e),i=n?.getParentIfKind(r.ts.SyntaxKind.TypeReference)?.getLastChildByKind(r.ts.SyntaxKind.TypeReference);if(i){const s=i.getLastChildByKind(r.ts.SyntaxKind.Identifier)?.getText(),o=s?ge(s):null;if(o)i.transform(()=>S.createLiteralTypeNode(S.createStringLiteral(o)));else{const a=ue(e.getText().replace(/HTMLAttributes$/,""));a.length&&i.transform(()=>S.createLiteralTypeNode(S.createStringLiteral(a)))}n?.replaceWithText("ST.PropsOf"),e.getSourceFile().addImportDeclaration({namespaceImport:"ST",moduleSpecifier:"@suid/types"})}}l(Ee,"replaceReactHTMLAttributes");function Te(e){p(e,"Component",{moduleSpecifier:"solid-js",namedImport:"Component"})}l(Te,"replaceReactJSXElementConstructor");const V=`__REMOVE__${Date.now()}`;function Se(e){const n=u(e),t=n.getParentIfKind(r.ts.SyntaxKind.CallExpression);if(t){const i=t.getArguments();for(let s=1;s<i.length;++s)t.removeArgument(1);x(e.getSourceFile(),V,""),n.replaceWithText(V)}}l(Se,"replaceReactMemo");function xe(e){p(e,"JSXElement",{moduleSpecifier:"solid-js",namedImport:"JSXElement"})}l(xe,"replaceReactNode");function he(e){const n=u(e),t=n.getParentIfKind(r.ts.SyntaxKind.TypeReference),i=t?.forEachChildAsArray()||[];if(t&&i.length>1){const[,s]=i,o=s?.getText();o==="any"?(t.replaceWithText("ST.ElementType"),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/types",namespaceImport:"ST"})):(t.replaceWithText(`Component<${o}>`),e.getSourceFile().addImportDeclaration({moduleSpecifier:"solid-js",namedImports:["Component"]}))}else n.replaceWithText("ST.ElementType"),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/types",namespaceImport:"ST"})}l(he,"replaceReactReactElement");function Le(e){p(e,"Ref",{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}l(Le,"replaceReactRef");const G=`__REMOVE__${Date.now()}`;function ye(e){const n=u(e),t=n.getParentIfKind(r.ts.SyntaxKind.CallExpression);if(t){const i=t.getArguments();for(let s=1;s<i.length;++s)t.removeArgument(1);x(e.getSourceFile(),G,""),n.replaceWithText(G)}}l(ye,"replaceReactUseCallback");function Me(e){p(e,"useContext",{moduleSpecifier:"solid-js",namedImport:"useContext"})}l(Me,"replaceReactUseContext");function Ie(e){if(r.Node.isArrowFunction(e)&&!e.getChildrenOfKind(r.ts.SyntaxKind.Block)){const n=e.forEachChildAsArray();if(n.length===2)return n[1]}}l(Ie,"getInlineReturn");function y(e){return r.Node.isFunctionDeclaration(e)||r.Node.isFunctionExpression(e)||r.Node.isArrowFunction(e)}l(y,"isAnyFunction");function v(e,n={}){const t=u(e),i=t.getParentIfKind(r.ts.SyntaxKind.CallExpression);let s=n.functionName||"createEffect",o=!1,a=!1,m,c,d;if(i){const[f,g]=i.getArguments();if(y(f)){c=f;const E=c.getReturnType().getText();o=E.startsWith("() =>")||E.startsWith("function");const h=Ie(c);if(h)y(h)&&(m=h);else{const H=c.getFirstChildByKindOrThrow(r.ts.SyntaxKind.Block).getChildSyntaxListOrThrow(),N=H.getFirstChildByKind(r.ts.SyntaxKind.ReturnStatement);if(N&&H.getChildren().length===1){const[F]=N.forEachChildAsArray();y(F)&&(m=F)}}}r.Node.isArrayLiteralExpression(g)&&(d=g,d.getElements().length?n.removeDependencies||(a=!0):s="onMount")}o?(s==="onMount"&&m?(s="onCleanup",c?.replaceWithText(m.getText()),e.getSourceFile().addImportDeclaration({namedImports:[s],moduleSpecifier:"solid-js"})):(s+="WithCleaning",e.getSourceFile().addImportDeclaration({defaultImport:s,moduleSpecifier:`@suid/system/${s}`})),t.replaceWithText(s)):(t.replaceWithText(s),e.getSourceFile().addImportDeclaration({namedImports:[s,...a?["on"]:[]],moduleSpecifier:"solid-js"})),c&&d&&a&&c.replaceWithText(`on(
() => ${d.getText()},
${c.getText()}
)`),d&&i?.removeArgument(d)}l(v,"replaceReactUseEffect");function He(e,n={}){return v(e,{...n,functionName:"createRenderEffect"})}l(He,"replaceReactUseLayoutEffect");function B(e,n=!1){const t=e.getText();I(e,`${t}()`),n&&e.replaceWithText(t)}l(B,"renameGetterVarToCall");function Ne(e){const n=u(e),t=n.getFirstAncestorByKind(r.ts.SyntaxKind.CallExpression);if(t){const i=t.getFirstAncestorByKind(r.ts.SyntaxKind.VariableDeclaration);if(i){const o=i.getFirstChildByKind(r.ts.SyntaxKind.Identifier);o&&B(o,!0)}t.getArguments().length>1&&t.removeArgument(1)}n.replaceWithText("createMemo"),e.getSourceFile().addImportDeclaration({namedImports:["createMemo"],moduleSpecifier:"solid-js"})}l(Ne,"replaceReactUseMemo");function Fe(e){const n=u(e),i=n.getFirstAncestorByKind(r.ts.SyntaxKind.CallExpression)?.getFirstAncestorByKind(r.ts.SyntaxKind.VariableDeclaration);if(i){const s=i.getFirstDescendantByKind(r.ts.SyntaxKind.ArrayBindingPattern);if(s){const a=s.getFirstDescendantByKind(r.ts.SyntaxKind.BindingElement)?.getFirstDescendantByKind(r.ts.SyntaxKind.Identifier);a&&B(a,!0)}}n.replaceWithText("createSignal"),e.getSourceFile().addImportDeclaration({namedImports:["createSignal"],moduleSpecifier:"solid-js"})}l(Fe,"replaceReactUseState");function O(e){if(e.wasForgotten())return"";const n=[];let t=[];const i=l(()=>{t.length&&n.push(`{ ${t.join(`,
`)}}`),t=[]},"drainProperties");for(const o of e.forEachChildAsArray())if(r.Node.isSpreadAssignment(o)){i();const a=o.getChildAtIndex(1);T(a)?n.push(a.getText()):n.push(`() => ${a.getText()}`)}else if(r.Node.isPropertyAssignment(o)){const a=o.getInitializer();let m;r.Node.isObjectLiteralExpression(a)?m=O(a):m=a?.getText()??"undefined",a&&T(a)?t.push(`${o.getName()}: ${m}`):t.push(`get ${o.getName()}() { return ${m} }`)}else if(r.Node.isShorthandPropertyAssignment(o)){const a=o.getName();t.push(`${a}: ${a}`)}else t.push(o.getText());const s=!!n.length;return i(),s?(e.getSourceFile().addImportDeclaration({namedImports:["mergeProps"],moduleSpecifier:"solid-js"}),`mergeProps(${n.join(", ")})`):n[0]??"{}"}l(O,"getSpreadAsignment");function Ke(e,n={scopes:["component-top-level","jsx"]}){e.wasForgotten()||!P(e,n.scopes)||e.replaceWithText(O(e))}l(Ke,"replaceSpreadAsignment");const Ce={Fragment:pe,Context:ae,createContext:le,ReactElement:he,ElementType:ce,memo:Se,ReactNode:xe,Ref:Le,useCallback:ye,useContext:Me,useState:Fe,JSXElementConstructor:Te,useMemo:Ne,forwardRef:fe,useEffect:v,useLayoutEffect:He},Ae={className:oe,key:X};function Ge(e){const n=_(e);for(const t of n){if(t.node.wasForgotten())continue;let i=Ce[t.name];i||(t.name.endsWith("EventHandler")?i=me:t.name.endsWith("Event")?i=de:t.name.endsWith("HTMLAttributes")&&(i=Ee)),i?.(t.node)}Z(e),z(e),U(e),W(e).forEach(t=>se(t)),k(e).forEach(t=>Ke(t)),w(e).forEach(t=>{const i=t.getName();Ae[i]?.(t)}),J(e),q(e)}l(Ge,"transformReactSource");export{Ge as default};
