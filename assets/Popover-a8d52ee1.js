var X=Object.defineProperty;var i=(t,r)=>X(t,"name",{value:r,configurable:!0});import{G as Y}from"./Grow-983901b8.js";import{r as q,s as I,v as J,w as U,a5 as K,P as Q,R as D,m as u,f as M,ay as Z,b as _,d as v,x as W,W as ee,aS as S,aT as ne,aM as A}from"./index-c26a6914.js";function oe(t){return I("MuiPopover",t)}i(oe,"getPopoverUtilityClass");q("MuiPopover",["root","paper"]);const T=J()({name:"MuiPopover",selfPropNames:["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","container","elevation","marginThreshold","onClose","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],utilityClass:oe,slotClasses:()=>({root:["root"],paper:["paper"]})});function H(t,r){let e=0;return typeof r=="number"?e=r:r==="center"?e=t.height/2:r==="bottom"&&(e=t.height),e}i(H,"getOffsetTop");function $(t,r){let e=0;return typeof r=="number"?e=r:r==="center"?e=t.width/2:r==="right"&&(e=t.width),e}i($,"getOffsetLeft");function L(t){return[t.horizontal,t.vertical].map(r=>typeof r=="number"?`${r}px`:r).join(" ")}i(L,"getTransformOriginValue");function d(t){return typeof t=="function"?t():t}i(d,"resolveAnchorEl");const re=U(K,{name:"MuiPopover",slot:"Root",overridesResolver:(t,r)=>r.root})({}),te=U(Q,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,r)=>r.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ce=T.defineComponent(i(function(r){const e=T.useThemeProps({props:r}),[,B]=D(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","class","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),n=u({anchorOrigin:{vertical:"top",horizontal:"left"},anchorReference:"anchorEl",elevation:8,marginThreshold:16,PaperProps:{},transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:Y,transitionDuration:"auto"},e),[,O]=D(u(()=>e.TransitionProps||{}),["onEntering"]),m=ee(()=>n.PaperProps.ref),y=u(e,{get anchorOrigin(){return n.anchorOrigin},get anchorReference(){return n.anchorReference},get elevation(){return n.elevation},get marginThreshold(){return n.marginThreshold},get PaperProps(){return n.PaperProps},get transformOrigin(){return n.transformOrigin},get TransitionComponent(){return n.TransitionComponent},get transitionDuration(){return n.transitionDuration},TransitionProps:O}),C=T.useClasses(y),G=i(()=>{if(n.anchorReference==="anchorPosition")return e.anchorPosition;const o=d(e.anchorEl),a=(o&&o.nodeType===1?o:A(m.current).body).getBoundingClientRect();return{top:a.top+H(a,n.anchorOrigin.vertical),left:a.left+$(a,n.anchorOrigin.horizontal)}},"getAnchorOffset"),j=i(o=>({vertical:H(o,n.transformOrigin.vertical),horizontal:$(o,n.transformOrigin.horizontal)}),"getTransformOrigin"),k=i(o=>{const s={width:o.offsetWidth,height:o.offsetHeight},a=j(s);if(n.anchorReference==="none")return{top:null,left:null,transformOrigin:L(a)};const R=G();let f=R.top-a.vertical,h=R.left-a.horizontal;const E=f+s.height,b=h+s.width,w=S(d(e.anchorEl)),z=w.innerHeight-n.marginThreshold,x=w.innerWidth-n.marginThreshold;if(f<n.marginThreshold){const c=f-n.marginThreshold;f-=c,a.vertical+=c}else if(E>z){const c=E-z;f-=c,a.vertical+=c}if(h<n.marginThreshold){const c=h-n.marginThreshold;h-=c,a.horizontal+=c}else if(b>x){const c=b-x;h-=c,a.horizontal+=c}return{top:`${Math.round(f)}px`,left:`${Math.round(h)}px`,transformOrigin:L(a)}},"getPositioningStyle"),l=i(()=>{const o=m.current;if(!o)return;const s=k(o);s.top!==null&&(o.style.top=s.top),s.left!==null&&(o.style.left=s.left),o.style.transformOrigin=s.transformOrigin},"setPositioningStyles"),F=i(()=>{e.TransitionProps?.onEntering&&e.TransitionProps?.onEntering(),l()},"handleEntering");M(()=>{e.open&&l()}),typeof e.action=="function"&&e.action({updatePosition:()=>{e.open&&l()}});let p,P,g;M(Z(()=>[e.anchorEl,e.open,l],()=>{if(P?.(),!e.open)return;const o=d(e.anchorEl),s=S(o);p=ne(()=>l()),P=i(()=>{p&&(p.clear(),s.removeEventListener("resize",p),p=void 0),g&&(g.disconnect(),g=void 0)},"handleResizeCleanup"),o&&globalThis.ResizeObserver&&(g=new ResizeObserver(()=>l()),g.observe(o)),s.addEventListener("resize",p)})),_(()=>P?.());const N=i(()=>{let o=n.transitionDuration;return n.transitionDuration==="auto"&&!n.TransitionComponent.muiSupportAuto&&(o=void 0),o},"transitionDuration"),V=i(()=>e.container||(e.anchorEl?A(d(e.anchorEl)).body:void 0),"container");return v(re,u({BackdropProps:{invisible:!0},get class(){return W(C.root,e.class)},get container(){return V()},get open(){return e.open},ownerState:y},B,{get children(){return v(n.TransitionComponent,u({appear:!0,get in(){return e.open},onEntering:F,get timeout(){return N()}},O,{get children(){return v(te,u({get elevation(){return n.elevation}},()=>n.PaperProps,{ref:m,get class(){return W(C.paper,n.PaperProps.class)},get children(){return e.children}}))}}))}}))},"Popover"));export{ce as P};
