var ht=Object.defineProperty;var o=(t,n)=>ht(t,"name",{value:n,configurable:!0});import{m as vt}from"./CodeEditor-9f0aecdc.js";import"./index-687395e5.js";import"./useControlled-c2cf8e08.js";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.43.0(94c055bcbdd49f04a0fa15515e848542a79fb948)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var pt=Object.defineProperty,mt=Object.getOwnPropertyDescriptor,_t=Object.getOwnPropertyNames,kt=Object.prototype.hasOwnProperty,ye=o((t,n,i,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let e of _t(n))!kt.call(t,e)&&e!==i&&pt(t,e,{get:()=>n[e],enumerable:!(r=mt(n,e))||r.enumerable});return t},"__copyProps"),wt=o((t,n,i)=>(ye(t,n,"default"),i&&ye(i,n,"default")),"__reExport"),g={};wt(g,vt);var bt=2*60*1e3,J,Ct=(J=class{_defaults;_idleCheckInterval;_lastUsedTime;_configChangeListener;_worker;_client;constructor(n){this._defaults=n,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30*1e3),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;Date.now()-this._lastUsedTime>bt&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=g.editor.createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...n){let i;return this._getClient().then(r=>{i=r}).then(r=>{if(this._worker)return this._worker.withSyncedResources(n)}).then(r=>i)}},o(J,"WorkerManager"),J),Se;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647})(Se||(Se={}));var le;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647})(le||(le={}));var T;(function(t){function n(r,e){return r===Number.MAX_VALUE&&(r=le.MAX_VALUE),e===Number.MAX_VALUE&&(e=le.MAX_VALUE),{line:r,character:e}}o(n,"create"),t.create=n;function i(r){var e=r;return u.objectLiteral(e)&&u.uinteger(e.line)&&u.uinteger(e.character)}o(i,"is"),t.is=i})(T||(T={}));var k;(function(t){function n(r,e,a,s){if(u.uinteger(r)&&u.uinteger(e)&&u.uinteger(a)&&u.uinteger(s))return{start:T.create(r,e),end:T.create(a,s)};if(T.is(r)&&T.is(e))return{start:r,end:e};throw new Error("Range#create called with invalid arguments["+r+", "+e+", "+a+", "+s+"]")}o(n,"create"),t.create=n;function i(r){var e=r;return u.objectLiteral(e)&&T.is(e.start)&&T.is(e.end)}o(i,"is"),t.is=i})(k||(k={}));var ke;(function(t){function n(r,e){return{uri:r,range:e}}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&k.is(e.range)&&(u.string(e.uri)||u.undefined(e.uri))}o(i,"is"),t.is=i})(ke||(ke={}));var Ie;(function(t){function n(r,e,a,s){return{targetUri:r,targetRange:e,targetSelectionRange:a,originSelectionRange:s}}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&k.is(e.targetRange)&&u.string(e.targetUri)&&(k.is(e.targetSelectionRange)||u.undefined(e.targetSelectionRange))&&(k.is(e.originSelectionRange)||u.undefined(e.originSelectionRange))}o(i,"is"),t.is=i})(Ie||(Ie={}));var we;(function(t){function n(r,e,a,s){return{red:r,green:e,blue:a,alpha:s}}o(n,"create"),t.create=n;function i(r){var e=r;return u.numberRange(e.red,0,1)&&u.numberRange(e.green,0,1)&&u.numberRange(e.blue,0,1)&&u.numberRange(e.alpha,0,1)}o(i,"is"),t.is=i})(we||(we={}));var Te;(function(t){function n(r,e){return{range:r,color:e}}o(n,"create"),t.create=n;function i(r){var e=r;return k.is(e.range)&&we.is(e.color)}o(i,"is"),t.is=i})(Te||(Te={}));var Pe;(function(t){function n(r,e,a){return{label:r,textEdit:e,additionalTextEdits:a}}o(n,"create"),t.create=n;function i(r){var e=r;return u.string(e.label)&&(u.undefined(e.textEdit)||M.is(e))&&(u.undefined(e.additionalTextEdits)||u.typedArray(e.additionalTextEdits,M.is))}o(i,"is"),t.is=i})(Pe||(Pe={}));var W;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(W||(W={}));var Me;(function(t){function n(r,e,a,s,c){var d={startLine:r,endLine:e};return u.defined(a)&&(d.startCharacter=a),u.defined(s)&&(d.endCharacter=s),u.defined(c)&&(d.kind=c),d}o(n,"create"),t.create=n;function i(r){var e=r;return u.uinteger(e.startLine)&&u.uinteger(e.startLine)&&(u.undefined(e.startCharacter)||u.uinteger(e.startCharacter))&&(u.undefined(e.endCharacter)||u.uinteger(e.endCharacter))&&(u.undefined(e.kind)||u.string(e.kind))}o(i,"is"),t.is=i})(Me||(Me={}));var be;(function(t){function n(r,e){return{location:r,message:e}}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&ke.is(e.location)&&u.string(e.message)}o(i,"is"),t.is=i})(be||(be={}));var N;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(N||(N={}));var Le;(function(t){t.Unnecessary=1,t.Deprecated=2})(Le||(Le={}));var Re;(function(t){function n(i){var r=i;return r!=null&&u.string(r.href)}o(n,"is"),t.is=n})(Re||(Re={}));var ge;(function(t){function n(r,e,a,s,c,d){var p={range:r,message:e};return u.defined(a)&&(p.severity=a),u.defined(s)&&(p.code=s),u.defined(c)&&(p.source=c),u.defined(d)&&(p.relatedInformation=d),p}o(n,"create"),t.create=n;function i(r){var e,a=r;return u.defined(a)&&k.is(a.range)&&u.string(a.message)&&(u.number(a.severity)||u.undefined(a.severity))&&(u.integer(a.code)||u.string(a.code)||u.undefined(a.code))&&(u.undefined(a.codeDescription)||u.string((e=a.codeDescription)===null||e===void 0?void 0:e.href))&&(u.string(a.source)||u.undefined(a.source))&&(u.undefined(a.relatedInformation)||u.typedArray(a.relatedInformation,be.is))}o(i,"is"),t.is=i})(ge||(ge={}));var V;(function(t){function n(r,e){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var c={title:r,command:e};return u.defined(a)&&a.length>0&&(c.arguments=a),c}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&u.string(e.title)&&u.string(e.command)}o(i,"is"),t.is=i})(V||(V={}));var M;(function(t){function n(a,s){return{range:a,newText:s}}o(n,"replace"),t.replace=n;function i(a,s){return{range:{start:a,end:a},newText:s}}o(i,"insert"),t.insert=i;function r(a){return{range:a,newText:""}}o(r,"del"),t.del=r;function e(a){var s=a;return u.objectLiteral(s)&&u.string(s.newText)&&k.is(s.range)}o(e,"is"),t.is=e})(M||(M={}));var x;(function(t){function n(r,e,a){var s={label:r};return e!==void 0&&(s.needsConfirmation=e),a!==void 0&&(s.description=a),s}o(n,"create"),t.create=n;function i(r){var e=r;return e!==void 0&&u.objectLiteral(e)&&u.string(e.label)&&(u.boolean(e.needsConfirmation)||e.needsConfirmation===void 0)&&(u.string(e.description)||e.description===void 0)}o(i,"is"),t.is=i})(x||(x={}));var b;(function(t){function n(i){var r=i;return typeof r=="string"}o(n,"is"),t.is=n})(b||(b={}));var P;(function(t){function n(a,s,c){return{range:a,newText:s,annotationId:c}}o(n,"replace"),t.replace=n;function i(a,s,c){return{range:{start:a,end:a},newText:s,annotationId:c}}o(i,"insert"),t.insert=i;function r(a,s){return{range:a,newText:"",annotationId:s}}o(r,"del"),t.del=r;function e(a){var s=a;return M.is(s)&&(x.is(s.annotationId)||b.is(s.annotationId))}o(e,"is"),t.is=e})(P||(P={}));var he;(function(t){function n(r,e){return{textDocument:r,edits:e}}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&ve.is(e.textDocument)&&Array.isArray(e.edits)}o(i,"is"),t.is=i})(he||(he={}));var H;(function(t){function n(r,e,a){var s={kind:"create",uri:r};return e!==void 0&&(e.overwrite!==void 0||e.ignoreIfExists!==void 0)&&(s.options=e),a!==void 0&&(s.annotationId=a),s}o(n,"create"),t.create=n;function i(r){var e=r;return e&&e.kind==="create"&&u.string(e.uri)&&(e.options===void 0||(e.options.overwrite===void 0||u.boolean(e.options.overwrite))&&(e.options.ignoreIfExists===void 0||u.boolean(e.options.ignoreIfExists)))&&(e.annotationId===void 0||b.is(e.annotationId))}o(i,"is"),t.is=i})(H||(H={}));var z;(function(t){function n(r,e,a,s){var c={kind:"rename",oldUri:r,newUri:e};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(c.options=a),s!==void 0&&(c.annotationId=s),c}o(n,"create"),t.create=n;function i(r){var e=r;return e&&e.kind==="rename"&&u.string(e.oldUri)&&u.string(e.newUri)&&(e.options===void 0||(e.options.overwrite===void 0||u.boolean(e.options.overwrite))&&(e.options.ignoreIfExists===void 0||u.boolean(e.options.ignoreIfExists)))&&(e.annotationId===void 0||b.is(e.annotationId))}o(i,"is"),t.is=i})(z||(z={}));var B;(function(t){function n(r,e,a){var s={kind:"delete",uri:r};return e!==void 0&&(e.recursive!==void 0||e.ignoreIfNotExists!==void 0)&&(s.options=e),a!==void 0&&(s.annotationId=a),s}o(n,"create"),t.create=n;function i(r){var e=r;return e&&e.kind==="delete"&&u.string(e.uri)&&(e.options===void 0||(e.options.recursive===void 0||u.boolean(e.options.recursive))&&(e.options.ignoreIfNotExists===void 0||u.boolean(e.options.ignoreIfNotExists)))&&(e.annotationId===void 0||b.is(e.annotationId))}o(i,"is"),t.is=i})(B||(B={}));var Ce;(function(t){function n(i){var r=i;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(e){return u.string(e.kind)?H.is(e)||z.is(e)||B.is(e):he.is(e)}))}o(n,"is"),t.is=n})(Ce||(Ce={}));var fe=function(){function t(n,i){this.edits=n,this.changeAnnotations=i}return o(t,"TextEditChangeImpl2"),t.prototype.insert=function(n,i,r){var e,a;if(r===void 0?e=M.insert(n,i):b.is(r)?(a=r,e=P.insert(n,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(r),e=P.insert(n,i,a)),this.edits.push(e),a!==void 0)return a},t.prototype.replace=function(n,i,r){var e,a;if(r===void 0?e=M.replace(n,i):b.is(r)?(a=r,e=P.replace(n,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(r),e=P.replace(n,i,a)),this.edits.push(e),a!==void 0)return a},t.prototype.delete=function(n,i){var r,e;if(i===void 0?r=M.del(n):b.is(i)?(e=i,r=P.del(n,i)):(this.assertChangeAnnotations(this.changeAnnotations),e=this.changeAnnotations.manage(i),r=P.del(n,e)),this.edits.push(r),e!==void 0)return e},t.prototype.add=function(n){this.edits.push(n)},t.prototype.all=function(){return this.edits},t.prototype.clear=function(){this.edits.splice(0,this.edits.length)},t.prototype.assertChangeAnnotations=function(n){if(n===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},t}(),De=function(){function t(n){this._annotations=n===void 0?Object.create(null):n,this._counter=0,this._size=0}return o(t,"ChangeAnnotations2"),t.prototype.all=function(){return this._annotations},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.manage=function(n,i){var r;if(b.is(n)?r=n:(r=this.nextId(),i=n),this._annotations[r]!==void 0)throw new Error("Id "+r+" is already in use.");if(i===void 0)throw new Error("No annotation provided for id "+r);return this._annotations[r]=i,this._size++,r},t.prototype.nextId=function(){return this._counter++,this._counter.toString()},t}();(function(){function t(n){var i=this;this._textEditChanges=Object.create(null),n!==void 0?(this._workspaceEdit=n,n.documentChanges?(this._changeAnnotations=new De(n.changeAnnotations),n.changeAnnotations=this._changeAnnotations.all(),n.documentChanges.forEach(function(r){if(he.is(r)){var e=new fe(r.edits,i._changeAnnotations);i._textEditChanges[r.textDocument.uri]=e}})):n.changes&&Object.keys(n.changes).forEach(function(r){var e=new fe(n.changes[r]);i._textEditChanges[r]=e})):this._workspaceEdit={}}return o(t,"WorkspaceChange2"),Object.defineProperty(t.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),t.prototype.getTextEditChange=function(n){if(ve.is(n)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i={uri:n.uri,version:n.version},r=this._textEditChanges[i.uri];if(!r){var e=[],a={textDocument:i,edits:e};this._workspaceEdit.documentChanges.push(a),r=new fe(e,this._changeAnnotations),this._textEditChanges[i.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[n];if(!r){var e=[];this._workspaceEdit.changes[n]=e,r=new fe(e),this._textEditChanges[n]=r}return r}},t.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new De,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},t.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},t.prototype.createFile=function(n,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var e;x.is(i)||b.is(i)?e=i:r=i;var a,s;if(e===void 0?a=H.create(n,r):(s=b.is(e)?e:this._changeAnnotations.manage(e),a=H.create(n,r,s)),this._workspaceEdit.documentChanges.push(a),s!==void 0)return s},t.prototype.renameFile=function(n,i,r,e){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var a;x.is(r)||b.is(r)?a=r:e=r;var s,c;if(a===void 0?s=z.create(n,i,e):(c=b.is(a)?a:this._changeAnnotations.manage(a),s=z.create(n,i,e,c)),this._workspaceEdit.documentChanges.push(s),c!==void 0)return c},t.prototype.deleteFile=function(n,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var e;x.is(i)||b.is(i)?e=i:r=i;var a,s;if(e===void 0?a=B.create(n,r):(s=b.is(e)?e:this._changeAnnotations.manage(e),a=B.create(n,r,s)),this._workspaceEdit.documentChanges.push(a),s!==void 0)return s},t})();var Ne;(function(t){function n(r){return{uri:r}}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&u.string(e.uri)}o(i,"is"),t.is=i})(Ne||(Ne={}));var Oe;(function(t){function n(r,e){return{uri:r,version:e}}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&u.string(e.uri)&&u.integer(e.version)}o(i,"is"),t.is=i})(Oe||(Oe={}));var ve;(function(t){function n(r,e){return{uri:r,version:e}}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&u.string(e.uri)&&(e.version===null||u.integer(e.version))}o(i,"is"),t.is=i})(ve||(ve={}));var xe;(function(t){function n(r,e,a,s){return{uri:r,languageId:e,version:a,text:s}}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&u.string(e.uri)&&u.string(e.languageId)&&u.integer(e.version)&&u.string(e.text)}o(i,"is"),t.is=i})(xe||(xe={}));var q;(function(t){t.PlainText="plaintext",t.Markdown="markdown"})(q||(q={}));(function(t){function n(i){var r=i;return r===t.PlainText||r===t.Markdown}o(n,"is"),t.is=n})(q||(q={}));var Ee;(function(t){function n(i){var r=i;return u.objectLiteral(i)&&q.is(r.kind)&&u.string(r.value)}o(n,"is"),t.is=n})(Ee||(Ee={}));var m;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(m||(m={}));var Ae;(function(t){t.PlainText=1,t.Snippet=2})(Ae||(Ae={}));var je;(function(t){t.Deprecated=1})(je||(je={}));var Fe;(function(t){function n(r,e,a){return{newText:r,insert:e,replace:a}}o(n,"create"),t.create=n;function i(r){var e=r;return e&&u.string(e.newText)&&k.is(e.insert)&&k.is(e.replace)}o(i,"is"),t.is=i})(Fe||(Fe={}));var We;(function(t){t.asIs=1,t.adjustIndentation=2})(We||(We={}));var Ue;(function(t){function n(i){return{label:i}}o(n,"create"),t.create=n})(Ue||(Ue={}));var Ve;(function(t){function n(i,r){return{items:i||[],isIncomplete:!!r}}o(n,"create"),t.create=n})(Ve||(Ve={}));var pe;(function(t){function n(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(n,"fromPlainText"),t.fromPlainText=n;function i(r){var e=r;return u.string(e)||u.objectLiteral(e)&&u.string(e.language)&&u.string(e.value)}o(i,"is"),t.is=i})(pe||(pe={}));var He;(function(t){function n(i){var r=i;return!!r&&u.objectLiteral(r)&&(Ee.is(r.contents)||pe.is(r.contents)||u.typedArray(r.contents,pe.is))&&(i.range===void 0||k.is(i.range))}o(n,"is"),t.is=n})(He||(He={}));var ze;(function(t){function n(i,r){return r?{label:i,documentation:r}:{label:i}}o(n,"create"),t.create=n})(ze||(ze={}));var Be;(function(t){function n(i,r){for(var e=[],a=2;a<arguments.length;a++)e[a-2]=arguments[a];var s={label:i};return u.defined(r)&&(s.documentation=r),u.defined(e)?s.parameters=e:s.parameters=[],s}o(n,"create"),t.create=n})(Be||(Be={}));var U;(function(t){t.Text=1,t.Read=2,t.Write=3})(U||(U={}));var qe;(function(t){function n(i,r){var e={range:i};return u.number(r)&&(e.kind=r),e}o(n,"create"),t.create=n})(qe||(qe={}));var _;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(_||(_={}));var Xe;(function(t){t.Deprecated=1})(Xe||(Xe={}));var Je;(function(t){function n(i,r,e,a,s){var c={name:i,kind:r,location:{uri:a,range:e}};return s&&(c.containerName=s),c}o(n,"create"),t.create=n})(Je||(Je={}));var Ye;(function(t){function n(r,e,a,s,c,d){var p={name:r,detail:e,kind:a,range:s,selectionRange:c};return d!==void 0&&(p.children=d),p}o(n,"create"),t.create=n;function i(r){var e=r;return e&&u.string(e.name)&&u.number(e.kind)&&k.is(e.range)&&k.is(e.selectionRange)&&(e.detail===void 0||u.string(e.detail))&&(e.deprecated===void 0||u.boolean(e.deprecated))&&(e.children===void 0||Array.isArray(e.children))&&(e.tags===void 0||Array.isArray(e.tags))}o(i,"is"),t.is=i})(Ye||(Ye={}));var $e;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})($e||($e={}));var Ge;(function(t){function n(r,e){var a={diagnostics:r};return e!=null&&(a.only=e),a}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&u.typedArray(e.diagnostics,ge.is)&&(e.only===void 0||u.typedArray(e.only,u.string))}o(i,"is"),t.is=i})(Ge||(Ge={}));var Qe;(function(t){function n(r,e,a){var s={title:r},c=!0;return typeof e=="string"?(c=!1,s.kind=e):V.is(e)?s.command=e:s.edit=e,c&&a!==void 0&&(s.kind=a),s}o(n,"create"),t.create=n;function i(r){var e=r;return e&&u.string(e.title)&&(e.diagnostics===void 0||u.typedArray(e.diagnostics,ge.is))&&(e.kind===void 0||u.string(e.kind))&&(e.edit!==void 0||e.command!==void 0)&&(e.command===void 0||V.is(e.command))&&(e.isPreferred===void 0||u.boolean(e.isPreferred))&&(e.edit===void 0||Ce.is(e.edit))}o(i,"is"),t.is=i})(Qe||(Qe={}));var Ze;(function(t){function n(r,e){var a={range:r};return u.defined(e)&&(a.data=e),a}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&k.is(e.range)&&(u.undefined(e.command)||V.is(e.command))}o(i,"is"),t.is=i})(Ze||(Ze={}));var Ke;(function(t){function n(r,e){return{tabSize:r,insertSpaces:e}}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&u.uinteger(e.tabSize)&&u.boolean(e.insertSpaces)}o(i,"is"),t.is=i})(Ke||(Ke={}));var et;(function(t){function n(r,e,a){return{range:r,target:e,data:a}}o(n,"create"),t.create=n;function i(r){var e=r;return u.defined(e)&&k.is(e.range)&&(u.undefined(e.target)||u.string(e.target))}o(i,"is"),t.is=i})(et||(et={}));var tt;(function(t){function n(r,e){return{range:r,parent:e}}o(n,"create"),t.create=n;function i(r){var e=r;return e!==void 0&&k.is(e.range)&&(e.parent===void 0||t.is(e.parent))}o(i,"is"),t.is=i})(tt||(tt={}));var rt;(function(t){function n(a,s,c,d){return new Et(a,s,c,d)}o(n,"create"),t.create=n;function i(a){var s=a;return!!(u.defined(s)&&u.string(s.uri)&&(u.undefined(s.languageId)||u.string(s.languageId))&&u.uinteger(s.lineCount)&&u.func(s.getText)&&u.func(s.positionAt)&&u.func(s.offsetAt))}o(i,"is"),t.is=i;function r(a,s){for(var c=a.getText(),d=e(s,function(I,R){var j=I.range.start.line-R.range.start.line;return j===0?I.range.start.character-R.range.start.character:j}),p=c.length,v=d.length-1;v>=0;v--){var f=d[v],C=a.offsetAt(f.range.start),h=a.offsetAt(f.range.end);if(h<=p)c=c.substring(0,C)+f.newText+c.substring(h,c.length);else throw new Error("Overlapping edit");p=C}return c}o(r,"applyEdits"),t.applyEdits=r;function e(a,s){if(a.length<=1)return a;var c=a.length/2|0,d=a.slice(0,c),p=a.slice(c);e(d,s),e(p,s);for(var v=0,f=0,C=0;v<d.length&&f<p.length;){var h=s(d[v],p[f]);h<=0?a[C++]=d[v++]:a[C++]=p[f++]}for(;v<d.length;)a[C++]=d[v++];for(;f<p.length;)a[C++]=p[f++];return a}o(e,"mergeSort")})(rt||(rt={}));var Et=function(){function t(n,i,r,e){this._uri=n,this._languageId=i,this._version=r,this._content=e,this._lineOffsets=void 0}return o(t,"FullTextDocument2"),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),t.prototype.getText=function(n){if(n){var i=this.offsetAt(n.start),r=this.offsetAt(n.end);return this._content.substring(i,r)}return this._content},t.prototype.update=function(n,i){this._content=n.text,this._version=i,this._lineOffsets=void 0},t.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var n=[],i=this._content,r=!0,e=0;e<i.length;e++){r&&(n.push(e),r=!1);var a=i.charAt(e);r=a==="\r"||a===`
`,a==="\r"&&e+1<i.length&&i.charAt(e+1)===`
`&&e++}r&&i.length>0&&n.push(i.length),this._lineOffsets=n}return this._lineOffsets},t.prototype.positionAt=function(n){n=Math.max(Math.min(n,this._content.length),0);var i=this.getLineOffsets(),r=0,e=i.length;if(e===0)return T.create(0,n);for(;r<e;){var a=Math.floor((r+e)/2);i[a]>n?e=a:r=a+1}var s=r-1;return T.create(s,n-i[s])},t.prototype.offsetAt=function(n){var i=this.getLineOffsets();if(n.line>=i.length)return this._content.length;if(n.line<0)return 0;var r=i[n.line],e=n.line+1<i.length?i[n.line+1]:this._content.length;return Math.max(Math.min(r+n.character,e),r)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),t}(),u;(function(t){var n=Object.prototype.toString;function i(h){return typeof h<"u"}o(i,"defined"),t.defined=i;function r(h){return typeof h>"u"}o(r,"undefined2"),t.undefined=r;function e(h){return h===!0||h===!1}o(e,"boolean"),t.boolean=e;function a(h){return n.call(h)==="[object String]"}o(a,"string"),t.string=a;function s(h){return n.call(h)==="[object Number]"}o(s,"number"),t.number=s;function c(h,I,R){return n.call(h)==="[object Number]"&&I<=h&&h<=R}o(c,"numberRange"),t.numberRange=c;function d(h){return n.call(h)==="[object Number]"&&-2147483648<=h&&h<=2147483647}o(d,"integer2"),t.integer=d;function p(h){return n.call(h)==="[object Number]"&&0<=h&&h<=2147483647}o(p,"uinteger2"),t.uinteger=p;function v(h){return n.call(h)==="[object Function]"}o(v,"func"),t.func=v;function f(h){return h!==null&&typeof h=="object"}o(f,"objectLiteral"),t.objectLiteral=f;function C(h,I){return Array.isArray(h)&&h.every(I)}o(C,"typedArray"),t.typedArray=C})(u||(u={}));var Y,At=(Y=class{constructor(n,i,r){this._languageId=n,this._worker=i;const e=o(s=>{let c=s.getLanguageId();if(c!==this._languageId)return;let d;this._listener[s.uri.toString()]=s.onDidChangeContent(()=>{window.clearTimeout(d),d=window.setTimeout(()=>this._doValidate(s.uri,c),500)}),this._doValidate(s.uri,c)},"onModelAdd"),a=o(s=>{g.editor.setModelMarkers(s,this._languageId,[]);let c=s.uri.toString(),d=this._listener[c];d&&(d.dispose(),delete this._listener[c])},"onModelRemoved");this._disposables.push(g.editor.onDidCreateModel(e)),this._disposables.push(g.editor.onWillDisposeModel(a)),this._disposables.push(g.editor.onDidChangeModelLanguage(s=>{a(s.model),e(s.model)})),this._disposables.push(r(s=>{g.editor.getModels().forEach(c=>{c.getLanguageId()===this._languageId&&(a(c),e(c))})})),this._disposables.push({dispose:()=>{g.editor.getModels().forEach(a);for(let s in this._listener)this._listener[s].dispose()}}),g.editor.getModels().forEach(e)}_disposables=[];_listener=Object.create(null);dispose(){this._disposables.forEach(n=>n&&n.dispose()),this._disposables.length=0}_doValidate(n,i){this._worker(n).then(r=>r.doValidation(n.toString())).then(r=>{const e=r.map(s=>St(n,s));let a=g.editor.getModel(n);a&&a.getLanguageId()===i&&g.editor.setModelMarkers(a,i,e)}).then(void 0,r=>{console.error(r)})}},o(Y,"DiagnosticsAdapter"),Y);function yt(t){switch(t){case N.Error:return g.MarkerSeverity.Error;case N.Warning:return g.MarkerSeverity.Warning;case N.Information:return g.MarkerSeverity.Info;case N.Hint:return g.MarkerSeverity.Hint;default:return g.MarkerSeverity.Info}}o(yt,"toSeverity");function St(t,n){let i=typeof n.code=="number"?String(n.code):n.code;return{severity:yt(n.severity),startLineNumber:n.range.start.line+1,startColumn:n.range.start.character+1,endLineNumber:n.range.end.line+1,endColumn:n.range.end.character+1,message:n.message,code:i,source:n.source}}o(St,"toDiagnostics");var $,It=($=class{constructor(n,i){this._worker=n,this._triggerCharacters=i}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(n,i,r,e){const a=n.uri;return this._worker(a).then(s=>s.doComplete(a.toString(),L(i))).then(s=>{if(!s)return;const c=n.getWordUntilPosition(i),d=new g.Range(i.lineNumber,c.startColumn,i.lineNumber,c.endColumn),p=s.items.map(v=>{const f={label:v.label,insertText:v.insertText||v.label,sortText:v.sortText,filterText:v.filterText,documentation:v.documentation,detail:v.detail,command:Mt(v.command),range:d,kind:Pt(v.kind)};return v.textEdit&&(Tt(v.textEdit)?f.range={insert:y(v.textEdit.insert),replace:y(v.textEdit.replace)}:f.range=y(v.textEdit.range),f.insertText=v.textEdit.newText),v.additionalTextEdits&&(f.additionalTextEdits=v.additionalTextEdits.map(X)),v.insertTextFormat===Ae.Snippet&&(f.insertTextRules=g.languages.CompletionItemInsertTextRule.InsertAsSnippet),f});return{isIncomplete:s.isIncomplete,suggestions:p}})}},o($,"CompletionAdapter"),$);function L(t){if(t)return{character:t.column-1,line:t.lineNumber-1}}o(L,"fromPosition");function ut(t){if(t)return{start:{line:t.startLineNumber-1,character:t.startColumn-1},end:{line:t.endLineNumber-1,character:t.endColumn-1}}}o(ut,"fromRange");function y(t){if(t)return new g.Range(t.start.line+1,t.start.character+1,t.end.line+1,t.end.character+1)}o(y,"toRange");function Tt(t){return typeof t.insert<"u"&&typeof t.replace<"u"}o(Tt,"isInsertReplaceEdit");function Pt(t){const n=g.languages.CompletionItemKind;switch(t){case m.Text:return n.Text;case m.Method:return n.Method;case m.Function:return n.Function;case m.Constructor:return n.Constructor;case m.Field:return n.Field;case m.Variable:return n.Variable;case m.Class:return n.Class;case m.Interface:return n.Interface;case m.Module:return n.Module;case m.Property:return n.Property;case m.Unit:return n.Unit;case m.Value:return n.Value;case m.Enum:return n.Enum;case m.Keyword:return n.Keyword;case m.Snippet:return n.Snippet;case m.Color:return n.Color;case m.File:return n.File;case m.Reference:return n.Reference}return n.Property}o(Pt,"toCompletionItemKind");function X(t){if(t)return{range:y(t.range),text:t.newText}}o(X,"toTextEdit");function Mt(t){return t&&t.command==="editor.action.triggerSuggest"?{id:t.command,title:t.title,arguments:t.arguments}:void 0}o(Mt,"toCommand");var G,Lt=(G=class{constructor(n){this._worker=n}provideHover(n,i,r){let e=n.uri;return this._worker(e).then(a=>a.doHover(e.toString(),L(i))).then(a=>{if(a)return{range:y(a.range),contents:Dt(a.contents)}})}},o(G,"HoverAdapter"),G);function Rt(t){return t&&typeof t=="object"&&typeof t.kind=="string"}o(Rt,"isMarkupContent");function nt(t){return typeof t=="string"?{value:t}:Rt(t)?t.kind==="plaintext"?{value:t.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:t.value}:{value:"```"+t.language+`
`+t.value+"\n```\n"}}o(nt,"toMarkdownString");function Dt(t){if(t)return Array.isArray(t)?t.map(nt):[nt(t)]}o(Dt,"toMarkedStringArray");var Q,cr=(Q=class{constructor(n){this._worker=n}provideDocumentHighlights(n,i,r){const e=n.uri;return this._worker(e).then(a=>a.findDocumentHighlights(e.toString(),L(i))).then(a=>{if(a)return a.map(s=>({range:y(s.range),kind:Nt(s.kind)}))})}},o(Q,"DocumentHighlightAdapter"),Q);function Nt(t){switch(t){case U.Read:return g.languages.DocumentHighlightKind.Read;case U.Write:return g.languages.DocumentHighlightKind.Write;case U.Text:return g.languages.DocumentHighlightKind.Text}return g.languages.DocumentHighlightKind.Text}o(Nt,"toDocumentHighlightKind");var Z,dr=(Z=class{constructor(n){this._worker=n}provideDefinition(n,i,r){const e=n.uri;return this._worker(e).then(a=>a.findDefinition(e.toString(),L(i))).then(a=>{if(a)return[ct(a)]})}},o(Z,"DefinitionAdapter"),Z);function ct(t){return{uri:g.Uri.parse(t.uri),range:y(t.range)}}o(ct,"toLocation");var K,fr=(K=class{constructor(n){this._worker=n}provideReferences(n,i,r,e){const a=n.uri;return this._worker(a).then(s=>s.findReferences(a.toString(),L(i))).then(s=>{if(s)return s.map(ct)})}},o(K,"ReferenceAdapter"),K),ee,lr=(ee=class{constructor(n){this._worker=n}provideRenameEdits(n,i,r,e){const a=n.uri;return this._worker(a).then(s=>s.doRename(a.toString(),L(i),r)).then(s=>Ot(s))}},o(ee,"RenameAdapter"),ee);function Ot(t){if(!t||!t.changes)return;let n=[];for(let i in t.changes){const r=g.Uri.parse(i);for(let e of t.changes[i])n.push({resource:r,versionId:void 0,textEdit:{range:y(e.range),text:e.newText}})}return{edits:n}}o(Ot,"toWorkspaceEdit");var te,xt=(te=class{constructor(n){this._worker=n}provideDocumentSymbols(n,i){const r=n.uri;return this._worker(r).then(e=>e.findDocumentSymbols(r.toString())).then(e=>{if(e)return e.map(a=>({name:a.name,detail:"",containerName:a.containerName,kind:jt(a.kind),range:y(a.location.range),selectionRange:y(a.location.range),tags:[]}))})}},o(te,"DocumentSymbolAdapter"),te);function jt(t){let n=g.languages.SymbolKind;switch(t){case _.File:return n.Array;case _.Module:return n.Module;case _.Namespace:return n.Namespace;case _.Package:return n.Package;case _.Class:return n.Class;case _.Method:return n.Method;case _.Property:return n.Property;case _.Field:return n.Field;case _.Constructor:return n.Constructor;case _.Enum:return n.Enum;case _.Interface:return n.Interface;case _.Function:return n.Function;case _.Variable:return n.Variable;case _.Constant:return n.Constant;case _.String:return n.String;case _.Number:return n.Number;case _.Boolean:return n.Boolean;case _.Array:return n.Array}return n.Function}o(jt,"toSymbolKind");var re,gr=(re=class{constructor(n){this._worker=n}provideLinks(n,i){const r=n.uri;return this._worker(r).then(e=>e.findDocumentLinks(r.toString())).then(e=>{if(e)return{links:e.map(a=>({range:y(a.range),url:a.target}))}})}},o(re,"DocumentLinkAdapter"),re),ne,Ft=(ne=class{constructor(n){this._worker=n}provideDocumentFormattingEdits(n,i,r){const e=n.uri;return this._worker(e).then(a=>a.format(e.toString(),null,dt(i)).then(s=>{if(!(!s||s.length===0))return s.map(X)}))}},o(ne,"DocumentFormattingEditProvider"),ne),ie,Wt=(ie=class{constructor(n){this._worker=n}canFormatMultipleRanges=!1;provideDocumentRangeFormattingEdits(n,i,r,e){const a=n.uri;return this._worker(a).then(s=>s.format(a.toString(),ut(i),dt(r)).then(c=>{if(!(!c||c.length===0))return c.map(X)}))}},o(ie,"DocumentRangeFormattingEditProvider"),ie);function dt(t){return{tabSize:t.tabSize,insertSpaces:t.insertSpaces}}o(dt,"fromFormattingOptions");var ae,Ut=(ae=class{constructor(n){this._worker=n}provideDocumentColors(n,i){const r=n.uri;return this._worker(r).then(e=>e.findDocumentColors(r.toString())).then(e=>{if(e)return e.map(a=>({color:a.color,range:y(a.range)}))})}provideColorPresentations(n,i,r){const e=n.uri;return this._worker(e).then(a=>a.getColorPresentations(e.toString(),i.color,ut(i.range))).then(a=>{if(a)return a.map(s=>{let c={label:s.label};return s.textEdit&&(c.textEdit=X(s.textEdit)),s.additionalTextEdits&&(c.additionalTextEdits=s.additionalTextEdits.map(X)),c})})}},o(ae,"DocumentColorAdapter"),ae),se,Vt=(se=class{constructor(n){this._worker=n}provideFoldingRanges(n,i,r){const e=n.uri;return this._worker(e).then(a=>a.getFoldingRanges(e.toString(),i)).then(a=>{if(a)return a.map(s=>{const c={start:s.startLine+1,end:s.endLine+1};return typeof s.kind<"u"&&(c.kind=Ht(s.kind)),c})})}},o(se,"FoldingRangeAdapter"),se);function Ht(t){switch(t){case W.Comment:return g.languages.FoldingRangeKind.Comment;case W.Imports:return g.languages.FoldingRangeKind.Imports;case W.Region:return g.languages.FoldingRangeKind.Region}}o(Ht,"toFoldingRangeKind");var oe,zt=(oe=class{constructor(n){this._worker=n}provideSelectionRanges(n,i,r){const e=n.uri;return this._worker(e).then(a=>a.getSelectionRanges(e.toString(),i.map(L))).then(a=>{if(a)return a.map(s=>{const c=[];for(;s;)c.push({range:y(s.range)}),s=s.parent;return c})})}},o(oe,"SelectionRangeAdapter"),oe);function Bt(t,n){n===void 0&&(n=!1);var i=t.length,r=0,e="",a=0,s=16,c=0,d=0,p=0,v=0,f=0;function C(l,E){for(var S=0,A=0;S<l||!E;){var w=t.charCodeAt(r);if(w>=48&&w<=57)A=A*16+w-48;else if(w>=65&&w<=70)A=A*16+w-65+10;else if(w>=97&&w<=102)A=A*16+w-97+10;else break;r++,S++}return S<l&&(A=-1),A}o(C,"scanHexDigits");function h(l){r=l,e="",a=0,s=16,f=0}o(h,"setPosition");function I(){var l=r;if(t.charCodeAt(r)===48)r++;else for(r++;r<t.length&&D(t.charCodeAt(r));)r++;if(r<t.length&&t.charCodeAt(r)===46)if(r++,r<t.length&&D(t.charCodeAt(r)))for(r++;r<t.length&&D(t.charCodeAt(r));)r++;else return f=3,t.substring(l,r);var E=r;if(r<t.length&&(t.charCodeAt(r)===69||t.charCodeAt(r)===101))if(r++,(r<t.length&&t.charCodeAt(r)===43||t.charCodeAt(r)===45)&&r++,r<t.length&&D(t.charCodeAt(r))){for(r++;r<t.length&&D(t.charCodeAt(r));)r++;E=r}else f=3;return t.substring(l,E)}o(I,"scanNumber");function R(){for(var l="",E=r;;){if(r>=i){l+=t.substring(E,r),f=2;break}var S=t.charCodeAt(r);if(S===34){l+=t.substring(E,r),r++;break}if(S===92){if(l+=t.substring(E,r),r++,r>=i){f=2;break}var A=t.charCodeAt(r++);switch(A){case 34:l+='"';break;case 92:l+="\\";break;case 47:l+="/";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+=`
`;break;case 114:l+="\r";break;case 116:l+="	";break;case 117:var w=C(4,!0);w>=0?l+=String.fromCharCode(w):f=4;break;default:f=5}E=r;continue}if(S>=0&&S<=31)if(F(S)){l+=t.substring(E,r),f=2;break}else f=6;r++}return l}o(R,"scanString");function j(){if(e="",f=0,a=r,d=c,v=p,r>=i)return a=i,s=17;var l=t.charCodeAt(r);if(_e(l)){do r++,e+=String.fromCharCode(l),l=t.charCodeAt(r);while(_e(l));return s=15}if(F(l))return r++,e+=String.fromCharCode(l),l===13&&t.charCodeAt(r)===10&&(r++,e+=`
`),c++,p=r,s=14;switch(l){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,e=R(),s=10;case 47:var E=r-1;if(t.charCodeAt(r+1)===47){for(r+=2;r<i&&!F(t.charCodeAt(r));)r++;return e=t.substring(E,r),s=12}if(t.charCodeAt(r+1)===42){r+=2;for(var S=i-1,A=!1;r<S;){var w=t.charCodeAt(r);if(w===42&&t.charCodeAt(r+1)===47){r+=2,A=!0;break}r++,F(w)&&(w===13&&t.charCodeAt(r)===10&&r++,c++,p=r)}return A||(r++,f=1),e=t.substring(E,r),s=13}return e+=String.fromCharCode(l),r++,s=16;case 45:if(e+=String.fromCharCode(l),r++,r===i||!D(t.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return e+=I(),s=11;default:for(;r<i&&lt(l);)r++,l=t.charCodeAt(r);if(a!==r){switch(e=t.substring(a,r),e){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return e+=String.fromCharCode(l),r++,s=16}}o(j,"scanNext");function lt(l){if(_e(l)||F(l))return!1;switch(l){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}o(lt,"isUnknownContentCharacter");function gt(){var l;do l=j();while(l>=12&&l<=15);return l}return o(gt,"scanNextNonTrivia"),{setPosition:h,getPosition:function(){return r},scan:n?gt:j,getToken:function(){return s},getTokenValue:function(){return e},getTokenOffset:function(){return a},getTokenLength:function(){return r-a},getTokenStartLine:function(){return d},getTokenStartCharacter:function(){return a-v},getTokenError:function(){return f}}}o(Bt,"createScanner");function _e(t){return t===32||t===9||t===11||t===12||t===160||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===65279}o(_e,"isWhiteSpace");function F(t){return t===10||t===13||t===8232||t===8233}o(F,"isLineBreak");function D(t){return t>=48&&t<=57}o(D,"isDigit");var it;(function(t){t.DEFAULT={allowTrailingComma:!1}})(it||(it={}));var qt=Bt;function Xt(t){return{getInitialState:()=>new me(null,null,!1,null),tokenize:(n,i)=>rr(t,n,i)}}o(Xt,"createTokenizationSupport");var at="delimiter.bracket.json",st="delimiter.array.json",Jt="delimiter.colon.json",Yt="delimiter.comma.json",$t="keyword.json",Gt="keyword.json",Qt="string.value.json",Zt="number.json",Kt="string.key.json",er="comment.block.json",tr="comment.line.json",ue,O=(ue=class{constructor(n,i){this.parent=n,this.type=i}static pop(n){return n?n.parent:null}static push(n,i){return new O(n,i)}static equals(n,i){if(!n&&!i)return!0;if(!n||!i)return!1;for(;n&&i;){if(n===i)return!0;if(n.type!==i.type)return!1;n=n.parent,i=i.parent}return!0}},o(ue,"ParentsStack"),ue),ce,me=(ce=class{_state;scanError;lastWasColon;parents;constructor(n,i,r,e){this._state=n,this.scanError=i,this.lastWasColon=r,this.parents=e}clone(){return new me(this._state,this.scanError,this.lastWasColon,this.parents)}equals(n){return n===this?!0:!n||!(n instanceof me)?!1:this.scanError===n.scanError&&this.lastWasColon===n.lastWasColon&&O.equals(this.parents,n.parents)}getStateData(){return this._state}setStateData(n){this._state=n}},o(ce,"JSONState"),ce);function rr(t,n,i,r=0){let e=0,a=!1;switch(i.scanError){case 2:n='"'+n,e=1;break;case 1:n="/*"+n,e=2;break}const s=qt(n);let c=i.lastWasColon,d=i.parents;const p={tokens:[],endState:i.clone()};for(;;){let v=r+s.getPosition(),f="";const C=s.scan();if(C===17)break;if(v===r+s.getPosition())throw new Error("Scanner did not advance, next 3 characters are: "+n.substr(s.getPosition(),3));switch(a&&(v-=e),a=e>0,C){case 1:d=O.push(d,0),f=at,c=!1;break;case 2:d=O.pop(d),f=at,c=!1;break;case 3:d=O.push(d,1),f=st,c=!1;break;case 4:d=O.pop(d),f=st,c=!1;break;case 6:f=Jt,c=!0;break;case 5:f=Yt,c=!1;break;case 8:case 9:f=$t,c=!1;break;case 7:f=Gt,c=!1;break;case 10:const I=(d?d.type:0)===1;f=c||I?Qt:Kt,c=!1;break;case 11:f=Zt,c=!1;break}if(t)switch(C){case 12:f=tr;break;case 13:f=er;break}p.endState=new me(i.getStateData(),s.getTokenError(),c,d),p.tokens.push({startIndex:v,scopes:f})}return p}o(rr,"tokenize");var de,nr=(de=class extends At{constructor(n,i,r){super(n,i,r.onDidChange),this._disposables.push(g.editor.onWillDisposeModel(e=>{this._resetSchema(e.uri)})),this._disposables.push(g.editor.onDidChangeModelLanguage(e=>{this._resetSchema(e.model.uri)}))}_resetSchema(n){this._worker().then(i=>{i.resetSchema(n.toString())})}},o(de,"JSONDiagnosticsAdapter"),de);function hr(t){const n=[],i=[],r=new Ct(t);n.push(r);const e=o((...c)=>r.getLanguageServiceWorker(...c),"worker");function a(){const{languageId:c,modeConfiguration:d}=t;ft(i),d.documentFormattingEdits&&i.push(g.languages.registerDocumentFormattingEditProvider(c,new Ft(e))),d.documentRangeFormattingEdits&&i.push(g.languages.registerDocumentRangeFormattingEditProvider(c,new Wt(e))),d.completionItems&&i.push(g.languages.registerCompletionItemProvider(c,new It(e,[" ",":",'"']))),d.hovers&&i.push(g.languages.registerHoverProvider(c,new Lt(e))),d.documentSymbols&&i.push(g.languages.registerDocumentSymbolProvider(c,new xt(e))),d.tokens&&i.push(g.languages.setTokensProvider(c,Xt(!0))),d.colors&&i.push(g.languages.registerColorProvider(c,new Ut(e))),d.foldingRanges&&i.push(g.languages.registerFoldingRangeProvider(c,new Vt(e))),d.diagnostics&&i.push(new nr(c,e,t)),d.selectionRanges&&i.push(g.languages.registerSelectionRangeProvider(c,new zt(e)))}o(a,"registerProviders"),a(),n.push(g.languages.setLanguageConfiguration(t.languageId,ir));let s=t.modeConfiguration;return t.onDidChange(c=>{c.modeConfiguration!==s&&(s=c.modeConfiguration,a())}),n.push(ot(i)),ot(n)}o(hr,"setupMode");function ot(t){return{dispose:()=>ft(t)}}o(ot,"asDisposable");function ft(t){for(;t.length;)t.pop().dispose()}o(ft,"disposeAll");var ir={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]};export{It as CompletionAdapter,dr as DefinitionAdapter,At as DiagnosticsAdapter,Ut as DocumentColorAdapter,Ft as DocumentFormattingEditProvider,cr as DocumentHighlightAdapter,gr as DocumentLinkAdapter,Wt as DocumentRangeFormattingEditProvider,xt as DocumentSymbolAdapter,Vt as FoldingRangeAdapter,Lt as HoverAdapter,fr as ReferenceAdapter,lr as RenameAdapter,zt as SelectionRangeAdapter,Ct as WorkerManager,L as fromPosition,ut as fromRange,hr as setupMode,y as toRange,X as toTextEdit};
