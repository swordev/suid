var X=Object.defineProperty;var i=(t,r)=>X(t,"name",{value:r,configurable:!0});import{G as Y}from"./Grow-CZoD8DHe.js";import{N as q,O as I,f as J,R as U,a5 as K,L as Q,V as x,m as u,d as M,a6 as Z,o as _,h as v,W,a7 as ee,a8 as A,a9 as ne,aa as H}from"./index-ridAuENd.js";function oe(t){return I("MuiPopover",t)}i(oe,"getPopoverUtilityClass");q("MuiPopover",["root","paper"]);const T=J()({name:"MuiPopover",selfPropNames:["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","container","elevation","marginThreshold","onClose","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],utilityClass:oe,slotClasses:i(()=>({root:["root"],paper:["paper"]}),"slotClasses")});function L(t,r){let e=0;return typeof r=="number"?e=r:r==="center"?e=t.height/2:r==="bottom"&&(e=t.height),e}i(L,"getOffsetTop");function S(t,r){let e=0;return typeof r=="number"?e=r:r==="center"?e=t.width/2:r==="right"&&(e=t.width),e}i(S,"getOffsetLeft");function $(t){return[t.horizontal,t.vertical].map(r=>typeof r=="number"?`${r}px`:r).join(" ")}i($,"getTransformOriginValue");function d(t){return typeof t=="function"?t():t}i(d,"resolveAnchorEl");const re=U(K,{name:"MuiPopover",slot:"Root",overridesResolver:i((t,r)=>r.root,"overridesResolver")})({}),te=U(Q,{name:"MuiPopover",slot:"Paper",overridesResolver:i((t,r)=>r.paper,"overridesResolver")})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ce=T.defineComponent(i(function(r){const e=T.useThemeProps({props:r}),[,B]=x(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","class","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),n=u({anchorOrigin:{vertical:"top",horizontal:"left"},anchorReference:"anchorEl",elevation:8,marginThreshold:16,PaperProps:{},transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:Y,transitionDuration:"auto"},e),[,O]=x(u(()=>e.TransitionProps||{}),["onEntering"]),m=ee(()=>n.PaperProps.ref),C=u(e,{get anchorOrigin(){return n.anchorOrigin},get anchorReference(){return n.anchorReference},get elevation(){return n.elevation},get marginThreshold(){return n.marginThreshold},get PaperProps(){return n.PaperProps},get transformOrigin(){return n.transformOrigin},get TransitionComponent(){return n.TransitionComponent},get transitionDuration(){return n.transitionDuration},TransitionProps:O}),R=T.useClasses(C),G=i(()=>{if(n.anchorReference==="anchorPosition")return e.anchorPosition;const o=d(e.anchorEl),a=(o&&o.nodeType===1?o:H(m.current).body).getBoundingClientRect();return{top:a.top+L(a,n.anchorOrigin.vertical),left:a.left+S(a,n.anchorOrigin.horizontal)}},"getAnchorOffset"),N=i(o=>({vertical:L(o,n.transformOrigin.vertical),horizontal:S(o,n.transformOrigin.horizontal)}),"getTransformOrigin"),V=i(o=>{const s={width:o.offsetWidth,height:o.offsetHeight},a=N(s);if(n.anchorReference==="none")return{top:null,left:null,transformOrigin:$(a)};const y=G();let f=y.top-a.vertical,h=y.left-a.horizontal;const E=f+s.height,b=h+s.width,w=A(d(e.anchorEl)),z=w.innerHeight-n.marginThreshold,D=w.innerWidth-n.marginThreshold;if(f<n.marginThreshold){const c=f-n.marginThreshold;f-=c,a.vertical+=c}else if(E>z){const c=E-z;f-=c,a.vertical+=c}if(h<n.marginThreshold){const c=h-n.marginThreshold;h-=c,a.horizontal+=c}else if(b>D){const c=b-D;h-=c,a.horizontal+=c}return{top:`${Math.round(f)}px`,left:`${Math.round(h)}px`,transformOrigin:$(a)}},"getPositioningStyle"),l=i(()=>{const o=m.current;if(!o)return;const s=V(o);s.top!==null&&(o.style.top=s.top),s.left!==null&&(o.style.left=s.left),o.style.transformOrigin=s.transformOrigin},"setPositioningStyles"),j=i(()=>{e.TransitionProps?.onEntering&&e.TransitionProps?.onEntering(),l()},"handleEntering");M(()=>{e.open&&l()}),typeof e.action=="function"&&e.action({updatePosition:i(()=>{e.open&&l()},"updatePosition")});let p,P,g;M(Z(()=>[e.anchorEl,e.open,l],()=>{if(P?.(),!e.open)return;const o=d(e.anchorEl),s=A(o);p=ne(()=>l()),P=i(()=>{p&&(p.clear(),s.removeEventListener("resize",p),p=void 0),g&&(g.disconnect(),g=void 0)},"handleResizeCleanup"),o&&globalThis.ResizeObserver&&(g=new ResizeObserver(()=>l()),g.observe(o)),s.addEventListener("resize",p)})),_(()=>P?.());const k=i(()=>{let o=n.transitionDuration;return n.transitionDuration==="auto"&&!n.TransitionComponent.muiSupportAuto&&(o=void 0),o},"transitionDuration"),F=i(()=>e.container||(e.anchorEl?H(d(e.anchorEl)).body:void 0),"container");return v(re,u({BackdropProps:{invisible:!0},get class(){return W(R.root,e.class)},get container(){return F()},get open(){return e.open},ownerState:C},B,{get children(){return v(n.TransitionComponent,u({appear:!0,get in(){return e.open},onEntering:j,get timeout(){return k()}},O,{get children(){return v(te,u({get elevation(){return n.elevation}},()=>n.PaperProps,{ref:m,get class(){return W(R.paper,n.PaperProps.class)},get children(){return e.children}}))}}))}}))},"Popover2"));export{ce as P};
